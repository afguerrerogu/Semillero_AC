import numpy as np
import math

m1 = 1
m2 = 3e-6

G = 4*np.pi**2

def div_dat(q):
    x = []
    v = []
    for i in q:
        x.append(i[:3])
        v.append(i[3:])
    return x,v


def energy(m,q):
    x, v = div_dat(q)
    KE = 0 
    PE = 0
    for i in range(len(m)):
        KE += m[i]*np.linalg.norm(v[i])**2
        for j in range(i+1,len(m)):    
            PE += (G*m[i]*m[j]/np.linalg.norm(v[i]-v[j]))        
    return 1/2*KE - 1/2 *PE

def momentum(m,q):
    x,v = div_dat(q)
    momentum = 0
    for i in range(len(m)):
        momentum += m[i]*np.cross(x[i],v[i])
    return momentum


masses = np.array([4.3e+06, 1.0e+00, 1.0e+00, 1.0e+00, 1.0e+00, 1.0e+00, 1.0e+00,
       1.0e+00, 1.0e+00, 1.0e+00, 1.0e+00, 1.0e+00, 1.0e+00, 1.0e+00])
Q = np.array([[ 0.000000e+00,  0.000000e+00,  0.000000e+00,  0.000000e+00,
         0.000000e+00,  0.000000e+00],
       [-1.195504e+03,  5.469360e+02, -8.222320e+02,  1.500000e+01,
        -2.780000e+02, -2.856000e+02],
       [-2.319040e+02,  1.317736e+03,  1.074664e+03, -9.060000e+01,
        -4.320000e+01,  3.500000e+01],
       [ 1.131352e+03,  8.084160e+02, -3.267400e+03,  1.524000e+02,
         4.080000e+01,  2.486000e+02],
       [ 2.076960e+03, -1.110424e+03,  2.471608e+03,  1.496000e+02,
        -1.352000e+02,  2.160000e+02],
       [ 1.365144e+03, -2.106272e+03, -2.764896e+03,  3.080000e+01,
        -1.190000e+02,  2.390000e+02],
       [ 8.392640e+02, -3.250912e+03,  3.529064e+03, -4.320000e+01,
         1.540000e+01,  1.906000e+02],
       [-2.678632e+03,  3.089936e+03,  7.472320e+02,  1.120000e+01,
        -9.260000e+01, -1.634000e+02],
       [ 1.528592e+03,  1.377848e+03, -5.048240e+02, -1.564000e+02,
        -1.250000e+02,  1.020000e+02],
       [-2.478320e+02, -1.865240e+03,  9.440000e+00,  3.400000e+01,
        -2.820000e+01, -3.766000e+02],
       [ 4.197680e+02, -1.888000e+01,  3.139840e+02, -3.976000e+02,
        -5.072000e+02, -2.286000e+02],
       [-6.566400e+02, -1.937264e+03,  6.378560e+02, -1.834000e+02,
         1.374000e+02, -8.500800e+01],
       [-4.304720e+02, -6.418640e+02, -7.714320e+02,  1.604000e+02,
        -4.278000e+02,  8.380000e+01],
       [ 2.874504e+03,  8.278720e+02, -7.236032e+03, -1.200000e+00,
         8.040000e+01,  1.600000e+01]])

# masses = np.array([1, 3e-6])
# Q = np.array([[0,0,0,0,0,0],
#               [1,0,0,0,6.2778,0]])

E = energy(masses,Q)
L = momentum(masses,Q)